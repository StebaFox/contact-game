<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SETI SIGNAL ANALYSIS SYSTEM v1.3.7</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="crt">
        <div class="scanline"></div>
        <div class="container">
            <!-- Header -->
            <div class="header">
                <pre class="ascii-art">
╔═══════════════════════════════════════════════════════════════╗
║  SETI SIGNAL ANALYSIS WORKSTATION                             ║
║  Deep Space Monitoring Array - Sector 7                       ║
║  [CLASSIFIED ACCESS - LEVEL 4 CLEARANCE REQUIRED]             ║
╚═══════════════════════════════════════════════════════════════╝
                </pre>
                <div class="system-time">
                    SYSTEM TIME: <span id="clock"></span> UTC
                    <span style="margin-left: 30px;">VOLUME:</span>
                    <input type="range" id="volume-slider" min="0" max="100" value="50" style="width: 100px; vertical-align: middle; margin-left: 10px;">
                    <span id="volume-value" style="margin-left: 5px;">50%</span>
                    <button class="color-scheme-btn" id="color-scheme-btn" title="Toggle Color Scheme">
                        <span id="scheme-label">GREEN</span>
                    </button>
                    <button class="mailbox-btn" id="mailbox-btn" style="display: none;">
                        <span class="mailbox-icon">[✉]</span> MAILBOX
                        <span class="mail-indicator" id="mail-indicator" style="display: none;">●</span>
                    </button>
                </div>
            </div>

            <!-- Main content area -->
            <div class="main-content">
                <!-- Start Screen -->
                <div id="start-view" class="view active">
                    <div class="start-screen">
                        <pre class="start-ascii">
╔═══════════════════════════════════════════════════════════════╗
║                                                               ║
║       ░██████╗██╗░██████╗░███╗░░██╗░█████╗░██╗░░░░░           ║
║       ██╔════╝██║██╔════╝░████╗░██║██╔══██╗██║░░░░░           ║
║       ╚█████╗░██║██║░░██╗░██╔██╗██║███████║██║░░░░░           ║
║       ░╚═══██╗██║██║░░██║░██║╚████║██╔══██║██║░░░░░           ║
║       ██████╔╝██║╚██████╔╝██║░╚███║██║░░██║███████╗           ║
║       ╚═════╝░╚═╝░╚═════╝░╚═╝░░╚══╝╚═╝░░╚═╝╚══════╝           ║
║                                                               ║
║              DEEP SPACE SIGNAL ANALYSIS SYSTEM                ║
║                        Version 1.3.7                          ║
║                                                               ║
╚═══════════════════════════════════════════════════════════════╝
                        </pre>
                        <div class="start-info">
                            <p>CLASSIFIED RESEARCH STATION</p>
                            <p>SECTOR 7 - DEEP SPACE MONITORING ARRAY</p>
                            <p style="margin-top: 30px; color: #ff0; text-shadow: 0 0 5px #ff0;">AUTHORIZED PERSONNEL ONLY</p>
                        </div>
                        <button class="btn start-btn" id="start-btn">INITIALIZE SYSTEM</button>
                        <div class="copyright-notice">© 2026 Stephen Reponen</div>
                    </div>
                </div>

                <!-- Boot Sequence -->
                <div id="boot-view" class="view">
                    <div class="boot-terminal">
                        <div class="boot-content-wrapper">
                            <div class="boot-left">
                                <div id="boot-output" class="boot-output"></div>
                                <div id="name-input-container" class="name-input-container" style="display: none;">
                                    <div class="name-prompt">PLEASE ENTER YOUR DESIGNATION:</div>
                                    <input type="text" id="name-input" class="name-input" maxlength="20" placeholder="Enter name...">
                                    <button class="btn" id="name-submit-btn">CONFIRM</button>
                                </div>
                            </div>
                            <div class="boot-right">
                                <button class="btn start-btn boot-proceed-btn" id="proceed-btn" style="display: none;">PROCEED TO ARRAY</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Star Map Section -->
                <div id="starmap-view" class="view">
                    <h2>═══ DEEP SPACE MONITORING ARRAY ═══</h2>
                    <p class="instruction">SELECT TARGET FOR SIGNAL ANALYSIS</p>

                    <!-- Visual Star Map and Info -->
                    <div class="starmap-section">
                        <div class="starmap-container">
                            <canvas id="starmap-canvas" width="1000" height="550"></canvas>
                        </div>
                        <div class="star-info-panel">
                            <div class="star-info-title">TARGET INFORMATION</div>
                            <canvas id="star-visual" width="140" height="140"></canvas>
                            <div class="star-details" id="star-details">
                                <div class="detail-label">SELECT A TARGET</div>
                            </div>
                        </div>
                    </div>

                    <div class="catalog-header">
                        <h3 style="text-align: center; margin: 20px 0 15px 0; font-size: 20px; letter-spacing: 2px;">STELLAR CATALOG</h3>
                        <button class="btn array-status-btn" id="array-status-btn" style="display: none;">
                            <span class="array-icon">[≡]</span> ARRAY STATUS
                            <span class="aligned-count" id="aligned-dish-count">0/7</span>
                        </button>
                    </div>

                    <div class="star-grid" id="star-grid">
                        <!-- Stars will be generated by JS -->
                    </div>
                </div>

                <!-- Signal Analysis Section -->
                <div id="analysis-view" class="view">
                    <div class="analysis-layout">
                        <div class="target-info">
                            <div style="margin-bottom: 10px; font-size: 20px; font-weight: bold; color: #0ff; text-shadow: 0 0 5px #0ff;">TARGET DATA</div>
                            <canvas id="analysis-star-visual" width="120" height="120" style="display: block; margin: 0 auto 10px auto;"></canvas>
                            <div style="line-height: 1.8;">
                                <strong>NAME:</strong> <span id="target-name"></span><br>
                                <strong>COORDINATES:</strong> <span id="target-coords"></span><br>
                                <strong>DISTANCE:</strong> <span id="target-distance"></span> ly<br>
                                <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #0f0;">
                                    <strong>STAR TYPE:</strong> <span id="target-type"></span><br>
                                    <strong>CLASS:</strong> <span id="target-class"></span><br>
                                    <strong>TEMPERATURE:</strong> <span id="target-temp"></span>
                                </div>
                            </div>
                        </div>

                        <div class="signal-display">
                            <h2>═══ SIGNAL ANALYSIS ═══</h2>
                            <div class="waveform-and-contact-container">
                                <div class="waveform-section">
                                    <div class="canvas-container">
                                        <div class="canvas-label">WAVEFORM ANALYSIS</div>
                                        <canvas id="waveform-canvas" width="800" height="200"></canvas>
                                    </div>
                                    <div class="canvas-container">
                                        <div class="canvas-label spectrogram-label">FREQUENCY SPECTROGRAM</div>
                                        <canvas id="spectrogram-canvas" width="800" height="150"></canvas>
                                    </div>
                                </div>
                                <div id="contact-protocol-box" class="contact-protocol-box" style="display: none;">
                                    <div class="canvas-label">CONTACT PROTOCOL</div>
                                    <div id="contact-protocol-content"></div>
                                </div>
                            </div>

                            <!-- Signal Tuning Minigame -->
                            <div id="tuning-game" class="tuning-game" style="display: none;">
                                <div class="tuning-header">
                                    <div class="tuning-title">SIGNAL TUNING REQUIRED</div>
                                    <div class="signal-strength-container">
                                        <div class="signal-strength-label">SIGNAL LOCK:</div>
                                        <div class="signal-strength-bar">
                                            <div id="signal-strength-fill" class="signal-strength-fill"></div>
                                        </div>
                                        <div id="signal-strength-percent" class="signal-strength-percent">0%</div>
                                    </div>
                                </div>
                                <div class="tuning-controls">
                                    <div class="tuning-slider-group">
                                        <label for="frequency-slider">FREQUENCY</label>
                                        <input type="range" id="frequency-slider" class="tuning-slider" min="0" max="100" value="50">
                                        <span id="frequency-value" class="slider-value">50</span>
                                    </div>
                                    <div class="tuning-slider-group">
                                        <label for="gain-slider">GAIN</label>
                                        <input type="range" id="gain-slider" class="tuning-slider" min="0" max="100" value="50">
                                        <span id="gain-value" class="slider-value">50</span>
                                    </div>
                                </div>
                                <div class="tuning-instruction">Adjust frequency and gain to lock onto signal. Hold stable lock for 2 seconds.</div>

                                <!-- Dish Array Panel (shows during tuning for weak signals) -->
                                <div id="tuning-array-panel" class="tuning-array-panel" style="display: none;">
                                    <div class="panel-title">ARRAY ALIGNMENT</div>
                                    <div class="mini-array-visual" id="mini-array-visual">
                                        <!-- Mini dish indicators populated by JS -->
                                    </div>
                                    <div class="array-boost-display">
                                        <span class="boost-label">SIGNAL BOOST:</span>
                                        <span class="boost-value" id="tuning-boost-value">1.0x</span>
                                    </div>
                                    <div class="dish-status-text" id="dish-status-text">
                                        Online: <span id="mini-aligned">0</span>/<span id="mini-required">0</span> | <span id="mini-power-text">POWER: 0/5</span>
                                    </div>
                                </div>
                            </div>

                            <div class="controls">
                                <button class="btn" id="scan-btn">INITIATE SCAN</button>
                                <button class="btn" id="analyze-btn" disabled>ANALYZE SIGNAL</button>
                                <button class="btn" id="clear-cache-btn">CLEAR CACHE</button>
                                <button class="btn" id="back-btn">RETURN TO CATALOG</button>
                            </div>

                            <!-- Pattern Recognition Minigame -->
                            <div id="pattern-game" class="pattern-game" style="display: none;">
                                <div class="pattern-header">
                                    <div class="pattern-title">SIGNAL DECOMPOSITION ANALYSIS</div>
                                    <div class="pattern-instruction">SELECT THE 3 FREQUENCY COMPONENTS THAT COMBINE TO CREATE THE TARGET SIGNAL</div>
                                </div>
                                <div class="pattern-reference">
                                    <div class="pattern-label">TARGET SIGNATURE:</div>
                                    <canvas id="reference-pattern" width="400" height="80"></canvas>
                                </div>
                                <div class="pattern-bands" id="pattern-bands">
                                    <!-- Frequency bands will be generated by JS -->
                                </div>
                                <div class="pattern-status" id="pattern-status">SELECT MATCHING FREQUENCY BANDS</div>
                            </div>

                            <div class="analysis-output">
                                <div id="analysis-text"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contact/Message Section -->
                <div id="contact-view" class="view">
                    <h2>═══ CONTACT ESTABLISHED ═══</h2>
                    <div class="message-display" id="message-display">
                        <!-- Contact messages will appear here -->
                    </div>
                    <button class="btn" id="continue-btn">CONTINUE SEARCH</button>
                </div>

                <!-- Mailbox Section -->
                <div id="mailbox-view" class="view">
                    <h2>═══ SECURE MAILBOX ═══</h2>
                    <div class="mailbox-header">
                        <div class="mailbox-info">CLASSIFIED COMMUNICATIONS - EYES ONLY</div>
                        <div class="mailbox-status" id="mailbox-status">NO NEW MESSAGES</div>
                    </div>
                    <div class="mailbox-content" id="mailbox-content">
                        <div class="no-messages" id="no-messages">MAILBOX EMPTY</div>
                        <div class="message-list" id="message-list">
                            <!-- Messages will appear here -->
                        </div>
                    </div>
                    <button class="btn" id="mailbox-back-btn">RETURN</button>
                </div>

                <!-- Dish Array Section -->
                <div id="array-view" class="view">
                    <h2>═══ RADIO TELESCOPE ARRAY ═══</h2>
                    <div class="array-header">
                        <div class="array-info">DEEP SPACE MONITORING ARRAY - Y-CONFIGURATION</div>
                        <div class="array-target" id="array-target-display">TARGET: NONE SELECTED</div>
                    </div>

                    <!-- Tutorial Section -->
                    <div class="array-tutorial">
                        <div class="tutorial-title">ALIGNMENT PROTOCOL</div>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <span class="step-icon" style="color: #f00;">✕</span>
                                <span class="step-text">Click dishes marked with <span style="color:#f00">X</span> to clear interference</span>
                            </div>
                            <div class="tutorial-step">
                                <span class="step-icon" style="color: #ffa500;">○</span>
                                <span class="step-text">Click unpowered dishes to bring them online (max 5)</span>
                            </div>
                            <div class="tutorial-step">
                                <span class="step-icon" style="color: #0ff;">◐</span>
                                <span class="step-text">Click powered dishes to rotate and align to target</span>
                            </div>
                            <div class="tutorial-step">
                                <span class="step-icon" style="color: #0f0;">●</span>
                                <span class="step-text">Right-click aligned dishes to power off if needed</span>
                            </div>
                        </div>
                    </div>

                    <div class="array-container">
                        <!-- Y-Configuration Visual -->
                        <div class="array-visual" id="array-visual">
                            <svg viewBox="0 0 400 350" class="array-svg" id="array-svg">
                                <!-- Y-arm guidelines -->
                                <line x1="200" y1="50" x2="200" y2="175" class="array-arm" />
                                <line x1="200" y1="175" x2="80" y2="320" class="array-arm" />
                                <line x1="200" y1="175" x2="320" y2="320" class="array-arm" />

                                <!-- Dish positions (will be populated by JS) -->
                                <g id="dish-group"></g>
                            </svg>
                        </div>

                        <!-- Array Controls -->
                        <div class="array-controls">
                            <div class="array-stats">
                                <div class="stat-row">
                                    <span class="stat-label">ONLINE DISHES:</span>
                                    <span class="stat-value" id="array-aligned-count">0</span>
                                    <span class="stat-separator">/</span>
                                    <span class="stat-total" id="array-required-display">--</span>
                                </div>
                                <div class="stat-row">
                                    <span class="stat-label">SIGNAL BOOST:</span>
                                    <span class="stat-value" id="array-signal-boost">1.0x</span>
                                </div>
                            </div>

                            <div id="array-power-indicator" class="power-indicator">POWER: 0/5</div>
                            <div id="array-interference-indicator" class="power-indicator" style="color: #f00; display: none;">INTERFERENCE: 0</div>

                            <div class="array-actions">
                                <button class="btn" id="align-all-btn" disabled>ALIGN ALL DISHES</button>
                                <button class="btn" id="reset-array-btn">RESET ARRAY</button>
                            </div>
                        </div>
                    </div>

                    <div class="array-status-bar" id="array-status-bar">
                        SELECT A WEAK SIGNAL TARGET TO CONFIGURE ARRAY
                    </div>

                    <div class="array-button-row">
                        <button class="btn" id="array-back-btn">RETURN TO CATALOG</button>
                        <button class="btn array-scan-btn" id="array-scan-btn" style="display: none;">BEGIN SIGNAL ANALYSIS</button>
                    </div>
                </div>

                <!-- Final Report Section -->
                <div id="report-view" class="view">
                    <div class="report-container">
                        <div class="report-header">
                            <div class="report-classification">TOP SECRET // COSMIC // ORCON</div>
                            <h2>═══ FINAL SHIFT REPORT ═══</h2>
                            <div class="report-meta">
                                <div>STATION: DEEP SPACE MONITORING ARRAY SIGMA-7</div>
                                <div>OPERATOR: <span id="report-operator-name">---</span></div>
                                <div>DATE: <span id="report-date">---</span></div>
                                <div>SHIFT: DAY CYCLE 001</div>
                            </div>
                        </div>

                        <div class="report-section">
                            <div class="report-section-title">SURVEY SUMMARY</div>
                            <div class="report-content" id="report-survey-summary">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <div class="report-section">
                            <div class="report-section-title">SIGNAL ANALYSIS LOG</div>
                            <div class="report-content report-scrollable" id="report-signal-log">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <div class="report-section classified">
                            <div class="report-section-title">
                                <span class="classified-badge">CLASSIFIED</span>
                                ANOMALOUS SIGNAL REPORT
                            </div>
                            <div class="report-content" id="report-classified">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <div class="report-section">
                            <div class="report-section-title">OPERATOR NOTES</div>
                            <div class="report-content operator-notes" id="report-notes">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <div class="report-footer">
                            <div class="report-signature">
                                DIGITALLY SIGNED: <span id="report-signature">---</span>
                            </div>
                            <button class="btn report-submit-btn" id="submit-report-btn">TRANSMIT REPORT TO COMMAND</button>
                        </div>
                    </div>
                </div>

                <!-- End Screen -->
                <div id="end-view" class="view">
                    <div class="end-screen">
                        <div class="end-text end-day">END OF DAY 1</div>
                        <div class="end-text end-continued">TO BE CONTINUED...</div>
                        <button class="btn end-restart-btn" id="restart-btn">NEW SHIFT</button>
                    </div>
                </div>
            </div>

            <!-- Survey Complete Popup -->
            <div id="survey-complete-popup" class="survey-complete-popup" style="display: none;">
                <div class="survey-complete-content">
                    <div class="survey-complete-icon">★</div>
                    <div class="survey-complete-title">SURVEY COMPLETE</div>
                    <div class="survey-complete-stats">
                        <div class="survey-stat">100% OF TARGETS ANALYZED</div>
                        <div class="survey-stat-detail" id="survey-summary-text"></div>
                    </div>
                    <div class="survey-complete-message">
                        PREPARE FINAL SHIFT REPORT FOR TRANSMISSION
                    </div>
                    <button class="btn survey-submit-btn" id="survey-submit-btn">SUBMIT REPORT</button>
                </div>
            </div>

            <!-- Terminal Log -->
            <div class="terminal-log">
                <div class="log-title">SYSTEM LOG:</div>
                <div id="log-content" class="log-content">
                    <div class="log-entry">[SYSTEM] Initializing deep space monitoring array...</div>
                    <div class="log-entry">[SYSTEM] Connection established to orbital receivers</div>
                    <div class="log-entry">[SYSTEM] Ready for signal acquisition</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Background Music -->
    <audio id="background-music" loop>
        <source src="Deep in the Quiet Sky.mp3" type="audio/mpeg">
    </audio>

    <!-- Alien Signal Music -->
    <audio id="alien-music" loop>
        <source src="Blind 2.mp3" type="audio/mpeg">
    </audio>

    <!-- Room Tone / Ambient Sound -->
    <audio id="room-tone" loop>
        <source src="room-tone-with-computer-noise-33598.mp3" type="audio/mpeg">
    </audio>

    <!-- Fade Overlay for End Transition -->
    <div id="fade-overlay" class="fade-overlay"></div>

    <script src="game.js?v=10"></script>
</body>
</html>
